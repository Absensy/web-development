# Настройка GitHub Pages для проекта

## Быстрый старт

1. **Создайте репозиторий на GitHub** (если еще не создан)

2. **Настройте GitHub Pages**:
   - Перейдите в Settings → Pages
   - В разделе "Source" выберите **"GitHub Actions"**
   - Сохраните настройки

3. **Загрузите проект в репозиторий**:
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin https://github.com/[username]/[repository-name].git
   git push -u origin main
   ```

4. **Экспортируйте данные** (перед первым деплоем):
   ```bash
   npm run db:export
   ```
   Это создаст JSON файлы в `public/data/` для статического использования.

5. **Автоматический деплой**:
   - После пуша в ветку `main` автоматически запустится GitHub Actions workflow
   - Деплой займет несколько минут
   - После завершения сайт будет доступен по адресу: `https://[username].github.io/[repository-name]`

## Структура деплоя

- **Workflow файл**: `.github/workflows/deploy.yml`
- **Статическая сборка**: создается в папке `out/`
- **Данные**: используются из `public/data/*.json`

## Важные замечания

1. **API Routes не работают** в статическом режиме - все данные загружаются из JSON файлов
2. **База данных не используется** на GitHub Pages - только экспортированные JSON файлы
3. **Админ-панель не будет работать** в статическом режиме (требует API routes)
4. **Изображения**: убедитесь, что все изображения загружены в `public/images/` или используют внешние URL

## Обновление данных

Для обновления данных на сайте:

1. Обновите данные в локальной БД
2. Экспортируйте данные: `npm run db:export`
3. Закоммитьте изменения:
   ```bash
   git add public/data/
   git commit -m "Update data"
   git push
   ```

## Проверка локально

Перед деплоем можно проверить статическую сборку локально:

```bash
npm run export
```

Это создаст папку `out/` со статическими файлами. Для проверки можно использовать любой статический сервер:

```bash
npx serve out
```

## Troubleshooting

### Сайт не обновляется после деплоя
- Проверьте, что workflow завершился успешно в разделе Actions
- Очистите кэш браузера (Ctrl+Shift+R)

### Ошибки при сборке
- Убедитесь, что все зависимости установлены: `npm ci --legacy-peer-deps`
- Проверьте, что JSON файлы существуют в `public/data/`

### Изображения не загружаются
- Убедитесь, что изображения находятся в `public/images/`
- Проверьте пути к изображениям в коде (должны начинаться с `/images/`)

